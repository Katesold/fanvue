import { v4 as uuidv4 } from 'uuid';
import type {
  Creator,
  Payout,
  PayoutInvoice,
  Payment,
  PaymentAttempt,
  FraudSignal,
  PayoutDecision,
} from '../types';

const today = new Date();
const yesterday = new Date(today);
yesterday.setDate(yesterday.getDate() - 1);


export const creators: Creator[] = [
  {
    id: 'creator-001',
    email: 'alice@example.com',
    displayName: 'Alice Johnson',
    status: 'active',
    createdAt: new Date('2024-01-15'),
    updatedAt: new Date('2024-06-01'),
  },
  {
    id: 'creator-002',
    email: 'bob@example.com',
    displayName: 'Bob Smith',
    status: 'active',
    createdAt: new Date('2024-02-20'),
    updatedAt: new Date('2024-06-10'),
  },
  {
    id: 'creator-003',
    email: 'carol@example.com',
    displayName: 'Carol Williams',
    status: 'active',
    createdAt: new Date('2024-03-10'),
    updatedAt: new Date('2024-05-15'),
  },
  {
    id: 'creator-004',
    email: 'dave@example.com',
    displayName: 'Dave Brown',
    status: 'suspended',
    createdAt: new Date('2024-01-05'),
    updatedAt: new Date('2024-07-01'),
  },
  {
    id: 'creator-005',
    email: 'eve@example.com',
    displayName: 'Eve Davis',
    status: 'active',
    createdAt: new Date('2024-04-01'),
    updatedAt: new Date('2024-06-20'),
  },
  {
    id: 'creator-006',
    email: 'frank@example.com',
    displayName: 'Frank Miller',
    status: 'active',
    createdAt: new Date('2024-05-12'),
    updatedAt: new Date('2024-08-01'),
  },
  {
    id: 'creator-007',
    email: 'grace@example.com',
    displayName: 'Grace Lee',
    status: 'active',
    createdAt: new Date('2024-03-25'),
    updatedAt: new Date('2024-07-15'),
  },
  {
    id: 'creator-008',
    email: 'henry@example.com',
    displayName: 'Henry Wilson',
    status: 'pending_verification',
    createdAt: new Date('2024-06-01'),
    updatedAt: new Date('2024-06-01'),
  },
  {
    id: 'creator-009',
    email: 'iris@example.com',
    displayName: 'Iris Chen',
    status: 'active',
    createdAt: new Date('2024-02-14'),
    updatedAt: new Date('2024-05-20'),
  },
  {
    id: 'creator-010',
    email: 'jack@example.com',
    displayName: 'Jack Thompson',
    status: 'active',
    createdAt: new Date('2024-04-18'),
    updatedAt: new Date('2024-08-10'),
  },
];


export const payouts: Payout[] = [
  {
    id: 'payout-001',
    creatorId: 'creator-001',
    amount: 2500.0,
    currency: 'USD',
    method: 'bank_transfer',
    status: 'pending',
    scheduledFor: today,
    riskScore: 15,
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payout-002',
    creatorId: 'creator-002',
    amount: 1750.5,
    currency: 'USD',
    method: 'paypal',
    status: 'flagged',
    scheduledFor: today,
    riskScore: 72,
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payout-003',
    creatorId: 'creator-003',
    amount: 890.0,
    currency: 'USD',
    method: 'stripe',
    status: 'paid',
    scheduledFor: yesterday,
    riskScore: 5,
    createdAt: new Date(yesterday.getTime() - 86400000),
    updatedAt: yesterday,
  },
  {
    id: 'payout-004',
    creatorId: 'creator-004',
    amount: 3200.0,
    currency: 'USD',
    method: 'bank_transfer',
    status: 'flagged',
    scheduledFor: today,
    riskScore: 85,
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payout-005',
    creatorId: 'creator-005',
    amount: 450.25,
    currency: 'USD',
    method: 'paypal',
    status: 'pending',
    scheduledFor: today,
    riskScore: 10,
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payout-006',
    creatorId: 'creator-001',
    amount: 1100.0,
    currency: 'EUR',
    method: 'bank_transfer',
    status: 'held',
    scheduledFor: today,
    riskScore: 45,
    createdAt: yesterday,
    updatedAt: today,
  },
  // New actionable payouts
  {
    id: 'payout-007',
    creatorId: 'creator-006',
    amount: 5800.0,
    currency: 'USD',
    method: 'bank_transfer',
    status: 'flagged',
    scheduledFor: today,
    riskScore: 68,
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payout-008',
    creatorId: 'creator-007',
    amount: 920.0,
    currency: 'USD',
    method: 'stripe',
    status: 'pending',
    scheduledFor: today,
    riskScore: 22,
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payout-009',
    creatorId: 'creator-008',
    amount: 15000.0,
    currency: 'USD',
    method: 'bank_transfer',
    status: 'flagged',
    scheduledFor: today,
    riskScore: 92,
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payout-010',
    creatorId: 'creator-009',
    amount: 2100.0,
    currency: 'GBP',
    method: 'paypal',
    status: 'flagged',
    scheduledFor: today,
    riskScore: 55,
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payout-011',
    creatorId: 'creator-010',
    amount: 680.0,
    currency: 'USD',
    method: 'stripe',
    status: 'pending',
    scheduledFor: today,
    riskScore: 8,
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payout-012',
    creatorId: 'creator-006',
    amount: 340.0,
    currency: 'EUR',
    method: 'paypal',
    status: 'pending',
    scheduledFor: today,
    riskScore: 12,
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payout-013',
    creatorId: 'creator-007',
    amount: 7500.0,
    currency: 'USD',
    method: 'bank_transfer',
    status: 'flagged',
    scheduledFor: today,
    riskScore: 78,
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payout-014',
    creatorId: 'creator-009',
    amount: 1250.0,
    currency: 'USD',
    method: 'stripe',
    status: 'held',
    scheduledFor: today,
    riskScore: 35,
    createdAt: yesterday,
    updatedAt: today,
  },
];


export const payoutInvoices: PayoutInvoice[] = [
  {
    id: 'invoice-001',
    payoutId: 'payout-001',
    invoiceNumber: 'INV-2024-0001',
    amount: 1500.0,
    status: 'processed',
    createdAt: yesterday,
  },
  {
    id: 'invoice-002',
    payoutId: 'payout-001',
    invoiceNumber: 'INV-2024-0002',
    amount: 1000.0,
    status: 'processed',
    createdAt: yesterday,
  },
  {
    id: 'invoice-003',
    payoutId: 'payout-002',
    invoiceNumber: 'INV-2024-0003',
    amount: 1750.5,
    status: 'pending',
    createdAt: yesterday,
  },
  {
    id: 'invoice-004',
    payoutId: 'payout-003',
    invoiceNumber: 'INV-2024-0004',
    amount: 890.0,
    status: 'processed',
    createdAt: new Date(yesterday.getTime() - 86400000),
  },
  {
    id: 'invoice-005',
    payoutId: 'payout-004',
    invoiceNumber: 'INV-2024-0005',
    amount: 3200.0,
    status: 'pending',
    createdAt: yesterday,
  },
  {
    id: 'invoice-006',
    payoutId: 'payout-005',
    invoiceNumber: 'INV-2024-0006',
    amount: 450.25,
    status: 'processed',
    createdAt: yesterday,
  },
  // New invoices for added payouts
  {
    id: 'invoice-007',
    payoutId: 'payout-007',
    invoiceNumber: 'INV-2024-0007',
    amount: 3500.0,
    status: 'processed',
    createdAt: yesterday,
  },
  {
    id: 'invoice-008',
    payoutId: 'payout-007',
    invoiceNumber: 'INV-2024-0008',
    amount: 2300.0,
    status: 'pending',
    createdAt: yesterday,
  },
  {
    id: 'invoice-009',
    payoutId: 'payout-008',
    invoiceNumber: 'INV-2024-0009',
    amount: 920.0,
    status: 'processed',
    createdAt: yesterday,
  },
  {
    id: 'invoice-010',
    payoutId: 'payout-009',
    invoiceNumber: 'INV-2024-0010',
    amount: 8000.0,
    status: 'pending',
    createdAt: yesterday,
  },
  {
    id: 'invoice-011',
    payoutId: 'payout-009',
    invoiceNumber: 'INV-2024-0011',
    amount: 7000.0,
    status: 'pending',
    createdAt: yesterday,
  },
  {
    id: 'invoice-012',
    payoutId: 'payout-010',
    invoiceNumber: 'INV-2024-0012',
    amount: 1400.0,
    status: 'processed',
    createdAt: yesterday,
  },
  {
    id: 'invoice-013',
    payoutId: 'payout-010',
    invoiceNumber: 'INV-2024-0013',
    amount: 700.0,
    status: 'pending',
    createdAt: yesterday,
  },
  {
    id: 'invoice-014',
    payoutId: 'payout-011',
    invoiceNumber: 'INV-2024-0014',
    amount: 680.0,
    status: 'processed',
    createdAt: yesterday,
  },
  {
    id: 'invoice-015',
    payoutId: 'payout-012',
    invoiceNumber: 'INV-2024-0015',
    amount: 340.0,
    status: 'processed',
    createdAt: yesterday,
  },
  {
    id: 'invoice-016',
    payoutId: 'payout-013',
    invoiceNumber: 'INV-2024-0016',
    amount: 4500.0,
    status: 'pending',
    createdAt: yesterday,
  },
  {
    id: 'invoice-017',
    payoutId: 'payout-013',
    invoiceNumber: 'INV-2024-0017',
    amount: 3000.0,
    status: 'pending',
    createdAt: yesterday,
  },
  {
    id: 'invoice-018',
    payoutId: 'payout-014',
    invoiceNumber: 'INV-2024-0018',
    amount: 1250.0,
    status: 'processed',
    createdAt: yesterday,
  },
];


export const payments: Payment[] = [
  {
    id: 'payment-001',
    creatorId: 'creator-001',
    subscriberId: 'sub-001',
    amount: 50.0,
    currency: 'USD',
    status: 'completed',
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payment-002',
    creatorId: 'creator-002',
    subscriberId: 'sub-002',
    amount: 25.0,
    currency: 'USD',
    status: 'completed',
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payment-003',
    creatorId: 'creator-006',
    subscriberId: 'sub-003',
    amount: 100.0,
    currency: 'USD',
    status: 'completed',
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payment-004',
    creatorId: 'creator-007',
    subscriberId: 'sub-004',
    amount: 35.0,
    currency: 'USD',
    status: 'completed',
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payment-005',
    creatorId: 'creator-009',
    subscriberId: 'sub-005',
    amount: 75.0,
    currency: 'GBP',
    status: 'completed',
    createdAt: yesterday,
    updatedAt: yesterday,
  },
  {
    id: 'payment-006',
    creatorId: 'creator-008',
    subscriberId: 'sub-006',
    amount: 500.0,
    currency: 'USD',
    status: 'pending',
    createdAt: today,
    updatedAt: today,
  },
];


export const paymentAttempts: PaymentAttempt[] = [
  {
    id: 'attempt-001',
    paymentId: 'payment-001',
    status: 'success',
    gatewayResponse: 'Transaction approved',
    createdAt: yesterday,
  },
  {
    id: 'attempt-002',
    paymentId: 'payment-002',
    status: 'failed',
    gatewayResponse: 'Insufficient funds',
    errorCode: 'INSUFFICIENT_FUNDS',
    createdAt: new Date(yesterday.getTime() - 3600000),
  },
  {
    id: 'attempt-003',
    paymentId: 'payment-002',
    status: 'success',
    gatewayResponse: 'Transaction approved',
    createdAt: yesterday,
  },
  {
    id: 'attempt-004',
    paymentId: 'payment-003',
    status: 'success',
    gatewayResponse: 'Transaction approved',
    createdAt: yesterday,
  },
  {
    id: 'attempt-005',
    paymentId: 'payment-004',
    status: 'failed',
    gatewayResponse: 'Card declined - suspected fraud',
    errorCode: 'FRAUD_SUSPECTED',
    createdAt: new Date(yesterday.getTime() - 7200000),
  },
  {
    id: 'attempt-006',
    paymentId: 'payment-004',
    status: 'success',
    gatewayResponse: 'Transaction approved after 3DS verification',
    createdAt: yesterday,
  },
  {
    id: 'attempt-007',
    paymentId: 'payment-005',
    status: 'success',
    gatewayResponse: 'Transaction approved',
    createdAt: yesterday,
  },
  {
    id: 'attempt-008',
    paymentId: 'payment-006',
    status: 'failed',
    gatewayResponse: 'Payment processor timeout',
    errorCode: 'GATEWAY_TIMEOUT',
    createdAt: today,
  },
  {
    id: 'attempt-009',
    paymentId: 'payment-006',
    status: 'pending',
    gatewayResponse: 'Awaiting 3DS authentication',
    createdAt: today,
  },
];


export const fraudSignals: FraudSignal[] = [
  {
    id: 'fraud-001',
    payoutId: 'payout-002',
    type: 'velocity',
    severity: 'medium',
    description: 'Unusual spike in earnings over the last 48 hours',
    metadata: { percentageIncrease: 340, baselineAmount: 400 },
    createdAt: yesterday,
  },
  {
    id: 'fraud-002',
    payoutId: 'payout-002',
    type: 'geo_mismatch',
    severity: 'low',
    description: 'Payout destination country differs from account registration',
    metadata: { registrationCountry: 'US', payoutCountry: 'RO' },
    createdAt: yesterday,
  },
  {
    id: 'fraud-003',
    payoutId: 'payout-004',
    type: 'pattern_match',
    severity: 'high',
    description: 'Transaction pattern matches known fraud ring activity',
    metadata: { patternId: 'FRAUD-RING-2024-A', confidence: 0.87 },
    createdAt: yesterday,
  },
  {
    id: 'fraud-004',
    payoutId: 'payout-004',
    type: 'amount_anomaly',
    severity: 'critical',
    description: 'Payout amount is 5x the historical average for this creator',
    metadata: { historicalAverage: 640, currentAmount: 3200 },
    createdAt: yesterday,
  },
  {
    id: 'fraud-005',
    payoutId: 'payout-006',
    type: 'device_fingerprint',
    severity: 'medium',
    description: 'Multiple accounts accessed from the same device',
    metadata: { deviceId: 'dev-abc123', linkedAccounts: 3 },
    createdAt: today,
  },
  // Fraud signals for new flagged payouts
  {
    id: 'fraud-006',
    payoutId: 'payout-007',
    type: 'velocity',
    severity: 'high',
    description: 'Creator earnings increased 450% in the last week',
    metadata: { percentageIncrease: 450, baselineAmount: 1100, period: '7d' },
    createdAt: yesterday,
  },
  {
    id: 'fraud-007',
    payoutId: 'payout-007',
    type: 'pattern_match',
    severity: 'medium',
    description: 'Subscriber churn pattern suggests possible fake engagement',
    metadata: { patternId: 'FAKE-ENGAGEMENT-001', churnRate: 0.65 },
    createdAt: yesterday,
  },
  {
    id: 'fraud-008',
    payoutId: 'payout-009',
    type: 'amount_anomaly',
    severity: 'critical',
    description: 'First payout from new creator exceeds $10,000 threshold',
    metadata: { accountAge: '32 days', firstPayoutAmount: 15000, threshold: 10000 },
    createdAt: yesterday,
  },
  {
    id: 'fraud-009',
    payoutId: 'payout-009',
    type: 'velocity',
    severity: 'critical',
    description: 'Account gained 500+ subscribers in 48 hours (possible bot activity)',
    metadata: { newSubscribers: 523, period: '48h', averageForNewAccounts: 15 },
    createdAt: yesterday,
  },
  {
    id: 'fraud-010',
    payoutId: 'payout-009',
    type: 'device_fingerprint',
    severity: 'high',
    description: 'Account accessed from known VPN exit node associated with fraud',
    metadata: { ipAddress: '185.xx.xx.xx', vpnProvider: 'NordVPN', riskCountry: 'NG' },
    createdAt: yesterday,
  },
  {
    id: 'fraud-011',
    payoutId: 'payout-010',
    type: 'geo_mismatch',
    severity: 'medium',
    description: 'Payout to UK bank but recent logins from Southeast Asia',
    metadata: { payoutCountry: 'GB', loginCountries: ['TH', 'VN', 'PH'], loginCount: 12 },
    createdAt: yesterday,
  },
  {
    id: 'fraud-012',
    payoutId: 'payout-010',
    type: 'pattern_match',
    severity: 'low',
    description: 'Content posting pattern resembles automated scheduling tools',
    metadata: { patternId: 'AUTO-POST-001', confidence: 0.62 },
    createdAt: yesterday,
  },
  {
    id: 'fraud-013',
    payoutId: 'payout-013',
    type: 'amount_anomaly',
    severity: 'high',
    description: 'Sudden 3x increase in average tip amount received',
    metadata: { previousAvgTip: 12.50, currentAvgTip: 42.30, period: '30d' },
    createdAt: yesterday,
  },
  {
    id: 'fraud-014',
    payoutId: 'payout-013',
    type: 'velocity',
    severity: 'high',
    description: 'Received 15 large tips ($100+) from same IP range in 24 hours',
    metadata: { largeTipCount: 15, ipRange: '203.0.113.0/24', period: '24h' },
    createdAt: yesterday,
  },
  {
    id: 'fraud-015',
    payoutId: 'payout-013',
    type: 'device_fingerprint',
    severity: 'medium',
    description: 'Multiple subscriber accounts share device fingerprints',
    metadata: { sharedFingerprints: 8, deviceId: 'dev-xyz789' },
    createdAt: yesterday,
  },
  {
    id: 'fraud-016',
    payoutId: 'payout-014',
    type: 'geo_mismatch',
    severity: 'low',
    description: 'Creator typically logs in from US but payout destination changed to Hong Kong',
    metadata: { typicalCountry: 'US', payoutCountry: 'HK', bankChanged: true },
    createdAt: today,
  },
];


export const payoutDecisions: PayoutDecision[] = [
  {
    id: 'decision-001',
    payoutId: 'payout-003',
    decision: 'approved',
    reason: 'Low risk score, verified creator',
    decidedBy: 'ops-user-001',
    createdAt: yesterday,
  },
  {
    id: 'decision-002',
    payoutId: 'payout-006',
    decision: 'held',
    reason: 'Pending additional verification due to device sharing',
    decidedBy: 'ops-user-002',
    createdAt: today,
  },
];


export const dataStore = {
  creators: [...creators],
  payouts: [...payouts],
  payoutInvoices: [...payoutInvoices],
  payments: [...payments],
  paymentAttempts: [...paymentAttempts],
  fraudSignals: [...fraudSignals],
  payoutDecisions: [...payoutDecisions],

  generateId: () => uuidv4(),
};
